{"ast":null,"code":"export default {\n  data() {\n    return {\n      text: \"\",\n      words: [],\n      currentIndex: -1,\n      phonemes: [{\n        id: 1,\n        url: \"../assets/AEI.png\",\n        letters: [\"a\", \"e\", \"i\"]\n      }, {\n        id: 2,\n        url: \"../assets/BMP.png\",\n        letters: [\"b\", \"m\", \"p\"]\n      }, {\n        id: 3,\n        url: \"../assets/CDGKNRSTXYZ.png\",\n        letters: [\"c\", \"d\", \"g\", \"k\", \"n\", \"r\", \"s\", \"t\", \"z\"]\n      }, {\n        id: 4,\n        url: \"../assets/CH,J,SH.png\",\n        letters: [\"ch\", \"j\", \"sh\"]\n      }, {\n        id: 5,\n        url: \"../assets/FV.png\",\n        letters: [\"f\", \"v\"]\n      }, {\n        id: 6,\n        url: \"../assets/L.png\"\n      }, {\n        id: 7,\n        url: \"../assets/O.png\"\n      }, {\n        id: 8,\n        url: \"../assets/QW.png\"\n      }, {\n        id: 9,\n        url: \"../assets/TH.png\"\n      }, {\n        id: 10,\n        url: \"../assets/U.png\"\n      }, {\n        id: 11,\n        url: \"../assets/N.png\"\n      }, {\n        id: 12,\n        url: \"../assets/E.png\"\n      }]\n    };\n  },\n  methods: {\n    // startReading() {\n    //   let speech = new SpeechSynthesisUtterance();\n    //   speech.lang = \"en-US\";\n    //   speech.text = this.text;\n    //   speech.volume = 1;\n    //   speech.rate = 0.9;\n    //   speech.pitch = 1;\n    //   window.speechSynthesis.speak(speech);\n    // },\n    speak() {\n      this.currentIndex = -1;\n      this.words = this.text.split(\" \");\n      this.readNextWord();\n    },\n    readNextWord() {\n      if (this.currentIndex < this.words.length - 1) {\n        this.currentIndex++;\n        const utterance = new SpeechSynthesisUtterance(this.words[this.currentIndex]);\n        utterance.lang = \"en-US\";\n        utterance.text = this.text;\n        utterance.volume = 1;\n        utterance.rate = 0.9;\n        utterance.pitch = 1;\n        // utterance.addEventListener(\"end\", this.readNextWord);\n        speechSynthesis.speak(utterance);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","text","words","currentIndex","phonemes","id","url","letters","methods","speak","split","readNextWord","length","utterance","SpeechSynthesisUtterance","lang","volume","rate","pitch","speechSynthesis"],"sources":["/Users/lopesti/WebTeam/avatar-narrator-poc/src/components/NarratingAvatar.vue"],"sourcesContent":["<template>\n  <div class=\"w-100 h-100 mt-5\">\n    <!-- <textarea class=\"w-75 m-3 p-3\" v-model=\"text\"></textarea> -->\n    <!-- <button class=\"btn btn-primary\" @click=\"startReading\">Read Text</button> -->\n\n    <input v-model=\"text\" type=\"text\" placeholder=\"Enter Text\" />\n    <button @click=\"speak\">Read Aloud</button>\n    <div ref=\"hightlightContainer\">\n      <span\n        v-for=\"(word, index) in words\"\n        :key=\"index\"\n        :class=\"{ highlighted: currentIndex === index }\"\n      >\n        {{ word }} <span> </span>\n      </span>\n    </div>\n    <div class=\"phoneme-container\">\n      <image\n        v-for=\"(phoneme, index) in phonemes\"\n        :key=\"index\"\n        :src=\"phoneme.url\"\n        alt=\"Phoneme\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      text: \"\",\n      words: [],\n      currentIndex: -1,\n      phonemes: [\n        {\n          id: 1,\n          url: \"../assets/AEI.png\",\n          letters: [\"a\", \"e\", \"i\"],\n        },\n        {\n          id: 2,\n          url: \"../assets/BMP.png\",\n          letters: [\"b\", \"m\", \"p\"],\n        },\n        {\n          id: 3,\n          url: \"../assets/CDGKNRSTXYZ.png\",\n          letters: [\"c\", \"d\", \"g\", \"k\", \"n\", \"r\", \"s\", \"t\", \"z\"],\n        },\n        {\n          id: 4,\n          url: \"../assets/CH,J,SH.png\",\n          letters: [\"ch\", \"j\", \"sh\"],\n        },\n        {\n          id: 5,\n          url: \"../assets/FV.png\",\n          letters: [\"f\", \"v\"],\n        },\n        {\n          id: 6,\n          url: \"../assets/L.png\",\n        },\n        {\n          id: 7,\n          url: \"../assets/O.png\",\n        },\n        {\n          id: 8,\n          url: \"../assets/QW.png\",\n        },\n        {\n          id: 9,\n          url: \"../assets/TH.png\",\n        },\n        {\n          id: 10,\n          url: \"../assets/U.png\",\n        },\n        {\n          id: 11,\n          url: \"../assets/N.png\",\n        },\n        {\n          id: 12,\n          url: \"../assets/E.png\",\n        },\n      ],\n    };\n  },\n  methods: {\n    // startReading() {\n    //   let speech = new SpeechSynthesisUtterance();\n    //   speech.lang = \"en-US\";\n    //   speech.text = this.text;\n    //   speech.volume = 1;\n    //   speech.rate = 0.9;\n    //   speech.pitch = 1;\n    //   window.speechSynthesis.speak(speech);\n    // },\n    speak() {\n      this.currentIndex = -1;\n      this.words = this.text.split(\" \");\n      this.readNextWord();\n    },\n    readNextWord() {\n      if (this.currentIndex < this.words.length - 1) {\n        this.currentIndex++;\n        const utterance = new SpeechSynthesisUtterance(\n          this.words[this.currentIndex]\n        );\n        utterance.lang = \"en-US\";\n        utterance.text = this.text;\n        utterance.volume = 1;\n        utterance.rate = 0.9;\n        utterance.pitch = 1;\n        // utterance.addEventListener(\"end\", this.readNextWord);\n        speechSynthesis.speak(utterance);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.highlighted {\n  background-color: yellow;\n}\n</style>\n"],"mappings":"AA4BA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,YAAY,EAAE,CAAC,CAAC;MAChBC,QAAQ,EAAE,CACR;QACEC,EAAE,EAAE,CAAC;QACLC,GAAG,EAAE,mBAAmB;QACxBC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG;MACzB,CAAC,EACD;QACEF,EAAE,EAAE,CAAC;QACLC,GAAG,EAAE,mBAAmB;QACxBC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG;MACzB,CAAC,EACD;QACEF,EAAE,EAAE,CAAC;QACLC,GAAG,EAAE,2BAA2B;QAChCC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG;MACvD,CAAC,EACD;QACEF,EAAE,EAAE,CAAC;QACLC,GAAG,EAAE,uBAAuB;QAC5BC,OAAO,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI;MAC3B,CAAC,EACD;QACEF,EAAE,EAAE,CAAC;QACLC,GAAG,EAAE,kBAAkB;QACvBC,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG;MACpB,CAAC,EACD;QACEF,EAAE,EAAE,CAAC;QACLC,GAAG,EAAE;MACP,CAAC,EACD;QACED,EAAE,EAAE,CAAC;QACLC,GAAG,EAAE;MACP,CAAC,EACD;QACED,EAAE,EAAE,CAAC;QACLC,GAAG,EAAE;MACP,CAAC,EACD;QACED,EAAE,EAAE,CAAC;QACLC,GAAG,EAAE;MACP,CAAC,EACD;QACED,EAAE,EAAE,EAAE;QACNC,GAAG,EAAE;MACP,CAAC,EACD;QACED,EAAE,EAAE,EAAE;QACNC,GAAG,EAAE;MACP,CAAC,EACD;QACED,EAAE,EAAE,EAAE;QACNC,GAAG,EAAE;MACP,CAAC;IAEL,CAAC;EACH,CAAC;EACDE,OAAO,EAAE;IACP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC,KAAKA,CAAA,EAAG;MACN,IAAI,CAACN,YAAW,GAAI,CAAC,CAAC;MACtB,IAAI,CAACD,KAAI,GAAI,IAAI,CAACD,IAAI,CAACS,KAAK,CAAC,GAAG,CAAC;MACjC,IAAI,CAACC,YAAY,CAAC,CAAC;IACrB,CAAC;IACDA,YAAYA,CAAA,EAAG;MACb,IAAI,IAAI,CAACR,YAAW,GAAI,IAAI,CAACD,KAAK,CAACU,MAAK,GAAI,CAAC,EAAE;QAC7C,IAAI,CAACT,YAAY,EAAE;QACnB,MAAMU,SAAQ,GAAI,IAAIC,wBAAwB,CAC5C,IAAI,CAACZ,KAAK,CAAC,IAAI,CAACC,YAAY,CAC9B,CAAC;QACDU,SAAS,CAACE,IAAG,GAAI,OAAO;QACxBF,SAAS,CAACZ,IAAG,GAAI,IAAI,CAACA,IAAI;QAC1BY,SAAS,CAACG,MAAK,GAAI,CAAC;QACpBH,SAAS,CAACI,IAAG,GAAI,GAAG;QACpBJ,SAAS,CAACK,KAAI,GAAI,CAAC;QACnB;QACAC,eAAe,CAACV,KAAK,CAACI,SAAS,CAAC;MAClC;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}