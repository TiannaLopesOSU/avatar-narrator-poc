{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport imageAEI from \"../assets/AEI.png\";\nimport imageBMP from \"../assets/BMP.png\";\nimport imageN from \"../assets/Nn.png\";\nimport imageCDGKNRSTXYZ from \"../assets/CDGKNRSTXYZ.png\";\nimport imageCHJSONSH from \"../assets/CH,J,SH.png\";\nimport imageFV from \"../assets/FV.png\";\nimport imageL from \"../assets/L.png\";\nimport imageO from \"../assets/O.png\";\nimport imageQW from \"../assets/QW.png\";\nimport imageTH from \"../assets/TH.png\";\nimport imageU from \"../assets/U.png\";\nimport imageE from \"../assets/E.png\";\nexport default {\n  data() {\n    return {\n      text: \"\",\n      currentIndex: 0,\n      phonemes: [{\n        id: 1,\n        url: imageAEI,\n        letters: [\"a\", \"e\", \"i\"],\n        show: false\n      }, {\n        id: 2,\n        url: imageBMP,\n        letters: [\"b\", \"m\", \"p\"],\n        show: false\n      }, {\n        id: 3,\n        url: imageCDGKNRSTXYZ,\n        letters: [\"c\", \"d\", \"g\", \"k\", \"n\", \"r\", \"s\", \"t\", \"z\"],\n        show: false\n      }, {\n        id: 4,\n        url: imageCHJSONSH,\n        letters: [\"ch\", \"j\", \"sh\"],\n        show: false\n      }, {\n        id: 5,\n        url: imageFV,\n        letters: [\"f\", \"v\"],\n        show: false\n      }, {\n        id: 6,\n        url: imageL,\n        letters: [\"l\"],\n        show: false\n      }, {\n        id: 7,\n        url: imageO,\n        letters: [\"o\"],\n        show: false\n      }, {\n        id: 8,\n        url: imageQW,\n        letters: [\"q\", \"w\"],\n        show: false\n      }, {\n        id: 9,\n        url: imageTH,\n        letters: [\"t\", \"h\"],\n        show: false\n      }, {\n        id: 10,\n        url: imageU,\n        letters: [\"u\"],\n        show: false\n      }, {\n        id: 11,\n        url: imageN,\n        letters: [\"n\"],\n        show: false\n      }, {\n        id: 12,\n        url: imageE,\n        letters: [\"e\"],\n        show: false\n      }]\n    };\n  },\n  computed: {\n    currentWord() {\n      const words = this.text.split(\" \");\n      if (this.currentIndex > 0 && this.currentIndex < words.length) {\n        return words[this.currentIndex].split(\"\");\n      }\n      return [];\n    },\n    highlightText() {\n      const words = this.text.split(\" \");\n      return words.map((word, index) => {\n        if (index === this.currentIndex) {\n          return `<span class=\"highlight\">${word}</span>`;\n        }\n        return word;\n      }).join(\" \");\n    }\n  },\n  methods: {\n    speak() {\n      const words = this.text.split(\" \");\n      const utterances = [];\n      let delay = 0;\n      for (let i = 0; i < words.length; i++) {\n        const word = words[i];\n        const timeout = setTimeout(() => {\n          this.currentIndex = i;\n          const utterance = new SpeechSynthesisUtterance(word);\n          utterances.push(utterance);\n          window.speechSynthesis.speak(utterance);\n        }, delay);\n        delay += words.length * 150;\n        utterances.push(timeout);\n      }\n      setTimeout(() => {\n        this.currentIndex = -1;\n        utterances.forEach(timeout => clearTimeout(timeout));\n      }, delay);\n    },\n    getImageUrl(letter) {\n      const letterMapping = {\n        a: imageAEI,\n        b: imageBMP,\n        c: imageCDGKNRSTXYZ,\n        ch: imageCHJSONSH,\n        d: imageFV,\n        e: imageL,\n        f: imageO,\n        g: imageQW,\n        h: imageTH,\n        i: imageU,\n        j: imageN,\n        k: imageE,\n        l: imageAEI,\n        m: imageBMP,\n        n: imageCDGKNRSTXYZ,\n        o: imageCHJSONSH,\n        p: imageFV,\n        q: imageL,\n        r: imageO,\n        s: imageQW,\n        t: imageTH,\n        u: imageU,\n        v: imageN,\n        w: imageE,\n        x: imageAEI,\n        y: imageBMP,\n        z: imageCDGKNRSTXYZ\n      };\n      const lowerCaseLetter = letter.toLowerCase();\n      if (lowerCaseLetter in letterMapping) {\n        return letterMapping[lowerCaseLetter];\n      }\n      return \"\"; // default image\n    }\n  }\n};","map":{"version":3,"names":["imageAEI","imageBMP","imageN","imageCDGKNRSTXYZ","imageCHJSONSH","imageFV","imageL","imageO","imageQW","imageTH","imageU","imageE","data","text","currentIndex","phonemes","id","url","letters","show","computed","currentWord","words","split","length","highlightText","map","word","index","join","methods","speak","utterances","delay","i","timeout","setTimeout","utterance","SpeechSynthesisUtterance","push","window","speechSynthesis","forEach","clearTimeout","getImageUrl","letter","letterMapping","a","b","c","ch","d","e","f","g","h","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","lowerCaseLetter","toLowerCase"],"sources":["/Users/lopesti/WebTeam/avatar-narrator-poc/src/components/NarratingAvatar.vue"],"sourcesContent":["<template>\n  <div>\n    <textarea v-bind=\"highlightText\"></textarea>\n    <button @click=\"speak\">Speak</button>\n    <div v-html=\"highlightText\"></div>\n    <div>\n      <!-- <img\n        v-for=\"(letter, index) in currentWord\"\n        :key=\"index\"\n        :src=\"getImageUrl(letter)\"\n      /> -->\n    </div>\n  </div>\n</template>\n\n<script>\nimport imageAEI from \"../assets/AEI.png\";\nimport imageBMP from \"../assets/BMP.png\";\nimport imageN from \"../assets/Nn.png\";\nimport imageCDGKNRSTXYZ from \"../assets/CDGKNRSTXYZ.png\";\nimport imageCHJSONSH from \"../assets/CH,J,SH.png\";\nimport imageFV from \"../assets/FV.png\";\nimport imageL from \"../assets/L.png\";\nimport imageO from \"../assets/O.png\";\nimport imageQW from \"../assets/QW.png\";\nimport imageTH from \"../assets/TH.png\";\nimport imageU from \"../assets/U.png\";\nimport imageE from \"../assets/E.png\";\n\nexport default {\n  data() {\n    return {\n      text: \"\",\n      currentIndex: 0,\n      phonemes: [\n        {\n          id: 1,\n          url: imageAEI,\n          letters: [\"a\", \"e\", \"i\"],\n          show: false,\n        },\n        {\n          id: 2,\n          url: imageBMP,\n          letters: [\"b\", \"m\", \"p\"],\n          show: false,\n        },\n        {\n          id: 3,\n          url: imageCDGKNRSTXYZ,\n          letters: [\"c\", \"d\", \"g\", \"k\", \"n\", \"r\", \"s\", \"t\", \"z\"],\n          show: false,\n        },\n        {\n          id: 4,\n          url: imageCHJSONSH,\n          letters: [\"ch\", \"j\", \"sh\"],\n          show: false,\n        },\n        {\n          id: 5,\n          url: imageFV,\n          letters: [\"f\", \"v\"],\n          show: false,\n        },\n        {\n          id: 6,\n          url: imageL,\n          letters: [\"l\"],\n          show: false,\n        },\n        {\n          id: 7,\n          url: imageO,\n          letters: [\"o\"],\n          show: false,\n        },\n        {\n          id: 8,\n          url: imageQW,\n          letters: [\"q\", \"w\"],\n          show: false,\n        },\n        {\n          id: 9,\n          url: imageTH,\n          letters: [\"t\", \"h\"],\n          show: false,\n        },\n        {\n          id: 10,\n          url: imageU,\n          letters: [\"u\"],\n          show: false,\n        },\n        {\n          id: 11,\n          url: imageN,\n          letters: [\"n\"],\n          show: false,\n        },\n        {\n          id: 12,\n          url: imageE,\n          letters: [\"e\"],\n          show: false,\n        },\n      ],\n    };\n  },\n  computed: {\n    currentWord() {\n      const words = this.text.split(\" \");\n      if (this.currentIndex > 0 && this.currentIndex < words.length) {\n        return words[this.currentIndex].split(\"\");\n      }\n      return [];\n    },\n    highlightText() {\n      const words = this.text.split(\" \");\n      return words\n        .map((word, index) => {\n          if (index === this.currentIndex) {\n            return `<span class=\"highlight\">${word}</span>`;\n          }\n          return word;\n        })\n        .join(\" \");\n    },\n  },\n  methods: {\n    speak() {\n      const words = this.text.split(\" \");\n      const utterances = [];\n      let delay = 0;\n\n      for (let i = 0; i < words.length; i++) {\n        const word = words[i];\n        const timeout = setTimeout(() => {\n          this.currentIndex = i;\n\n          const utterance = new SpeechSynthesisUtterance(word);\n          utterances.push(utterance);\n          window.speechSynthesis.speak(utterance);\n        }, delay);\n        delay += words.length * 150;\n        utterances.push(timeout);\n      }\n      setTimeout(() => {\n        this.currentIndex = -1;\n        utterances.forEach((timeout) => clearTimeout(timeout));\n      }, delay);\n    },\n    getImageUrl(letter) {\n      const letterMapping = {\n        a: imageAEI,\n        b: imageBMP,\n        c: imageCDGKNRSTXYZ,\n        ch: imageCHJSONSH,\n        d: imageFV,\n        e: imageL,\n        f: imageO,\n        g: imageQW,\n        h: imageTH,\n        i: imageU,\n        j: imageN,\n        k: imageE,\n        l: imageAEI,\n        m: imageBMP,\n        n: imageCDGKNRSTXYZ,\n        o: imageCHJSONSH,\n        p: imageFV,\n        q: imageL,\n        r: imageO,\n        s: imageQW,\n        t: imageTH,\n        u: imageU,\n        v: imageN,\n        w: imageE,\n        x: imageAEI,\n        y: imageBMP,\n        z: imageCDGKNRSTXYZ,\n      };\n      const lowerCaseLetter = letter.toLowerCase();\n      if (lowerCaseLetter in letterMapping) {\n        return letterMapping[lowerCaseLetter];\n      }\n      return \"\"; // default image\n    },\n  },\n};\n</script>\n\n<style scoped>\n.highlighted {\n  background-color: yellow;\n}\n</style>\n"],"mappings":";AAgBA,OAAOA,QAAO,MAAO,mBAAmB;AACxC,OAAOC,QAAO,MAAO,mBAAmB;AACxC,OAAOC,MAAK,MAAO,kBAAkB;AACrC,OAAOC,gBAAe,MAAO,2BAA2B;AACxD,OAAOC,aAAY,MAAO,uBAAuB;AACjD,OAAOC,OAAM,MAAO,kBAAkB;AACtC,OAAOC,MAAK,MAAO,iBAAiB;AACpC,OAAOC,MAAK,MAAO,iBAAiB;AACpC,OAAOC,OAAM,MAAO,kBAAkB;AACtC,OAAOC,OAAM,MAAO,kBAAkB;AACtC,OAAOC,MAAK,MAAO,iBAAiB;AACpC,OAAOC,MAAK,MAAO,iBAAiB;AAEpC,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,YAAY,EAAE,CAAC;MACfC,QAAQ,EAAE,CACR;QACEC,EAAE,EAAE,CAAC;QACLC,GAAG,EAAEjB,QAAQ;QACbkB,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;QACxBC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,CAAC;QACLC,GAAG,EAAEhB,QAAQ;QACbiB,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;QACxBC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,CAAC;QACLC,GAAG,EAAEd,gBAAgB;QACrBe,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;QACtDC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,CAAC;QACLC,GAAG,EAAEb,aAAa;QAClBc,OAAO,EAAE,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,CAAC;QAC1BC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,CAAC;QACLC,GAAG,EAAEZ,OAAO;QACZa,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;QACnBC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,CAAC;QACLC,GAAG,EAAEX,MAAM;QACXY,OAAO,EAAE,CAAC,GAAG,CAAC;QACdC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,CAAC;QACLC,GAAG,EAAEV,MAAM;QACXW,OAAO,EAAE,CAAC,GAAG,CAAC;QACdC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,CAAC;QACLC,GAAG,EAAET,OAAO;QACZU,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;QACnBC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,CAAC;QACLC,GAAG,EAAER,OAAO;QACZS,OAAO,EAAE,CAAC,GAAG,EAAE,GAAG,CAAC;QACnBC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,EAAE;QACNC,GAAG,EAAEP,MAAM;QACXQ,OAAO,EAAE,CAAC,GAAG,CAAC;QACdC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,EAAE;QACNC,GAAG,EAAEf,MAAM;QACXgB,OAAO,EAAE,CAAC,GAAG,CAAC;QACdC,IAAI,EAAE;MACR,CAAC,EACD;QACEH,EAAE,EAAE,EAAE;QACNC,GAAG,EAAEN,MAAM;QACXO,OAAO,EAAE,CAAC,GAAG,CAAC;QACdC,IAAI,EAAE;MACR,CAAC;IAEL,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACRC,WAAWA,CAAA,EAAG;MACZ,MAAMC,KAAI,GAAI,IAAI,CAACT,IAAI,CAACU,KAAK,CAAC,GAAG,CAAC;MAClC,IAAI,IAAI,CAACT,YAAW,GAAI,KAAK,IAAI,CAACA,YAAW,GAAIQ,KAAK,CAACE,MAAM,EAAE;QAC7D,OAAOF,KAAK,CAAC,IAAI,CAACR,YAAY,CAAC,CAACS,KAAK,CAAC,EAAE,CAAC;MAC3C;MACA,OAAO,EAAE;IACX,CAAC;IACDE,aAAaA,CAAA,EAAG;MACd,MAAMH,KAAI,GAAI,IAAI,CAACT,IAAI,CAACU,KAAK,CAAC,GAAG,CAAC;MAClC,OAAOD,KAAI,CACRI,GAAG,CAAC,CAACC,IAAI,EAAEC,KAAK,KAAK;QACpB,IAAIA,KAAI,KAAM,IAAI,CAACd,YAAY,EAAE;UAC/B,OAAQ,2BAA0Ba,IAAK,SAAQ;QACjD;QACA,OAAOA,IAAI;MACb,CAAC,EACAE,IAAI,CAAC,GAAG,CAAC;IACd;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,KAAKA,CAAA,EAAG;MACN,MAAMT,KAAI,GAAI,IAAI,CAACT,IAAI,CAACU,KAAK,CAAC,GAAG,CAAC;MAClC,MAAMS,UAAS,GAAI,EAAE;MACrB,IAAIC,KAAI,GAAI,CAAC;MAEb,KAAK,IAAIC,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIZ,KAAK,CAACE,MAAM,EAAEU,CAAC,EAAE,EAAE;QACrC,MAAMP,IAAG,GAAIL,KAAK,CAACY,CAAC,CAAC;QACrB,MAAMC,OAAM,GAAIC,UAAU,CAAC,MAAM;UAC/B,IAAI,CAACtB,YAAW,GAAIoB,CAAC;UAErB,MAAMG,SAAQ,GAAI,IAAIC,wBAAwB,CAACX,IAAI,CAAC;UACpDK,UAAU,CAACO,IAAI,CAACF,SAAS,CAAC;UAC1BG,MAAM,CAACC,eAAe,CAACV,KAAK,CAACM,SAAS,CAAC;QACzC,CAAC,EAAEJ,KAAK,CAAC;QACTA,KAAI,IAAKX,KAAK,CAACE,MAAK,GAAI,GAAG;QAC3BQ,UAAU,CAACO,IAAI,CAACJ,OAAO,CAAC;MAC1B;MACAC,UAAU,CAAC,MAAM;QACf,IAAI,CAACtB,YAAW,GAAI,CAAC,CAAC;QACtBkB,UAAU,CAACU,OAAO,CAAEP,OAAO,IAAKQ,YAAY,CAACR,OAAO,CAAC,CAAC;MACxD,CAAC,EAAEF,KAAK,CAAC;IACX,CAAC;IACDW,WAAWA,CAACC,MAAM,EAAE;MAClB,MAAMC,aAAY,GAAI;QACpBC,CAAC,EAAE/C,QAAQ;QACXgD,CAAC,EAAE/C,QAAQ;QACXgD,CAAC,EAAE9C,gBAAgB;QACnB+C,EAAE,EAAE9C,aAAa;QACjB+C,CAAC,EAAE9C,OAAO;QACV+C,CAAC,EAAE9C,MAAM;QACT+C,CAAC,EAAE9C,MAAM;QACT+C,CAAC,EAAE9C,OAAO;QACV+C,CAAC,EAAE9C,OAAO;QACVyB,CAAC,EAAExB,MAAM;QACT8C,CAAC,EAAEtD,MAAM;QACTuD,CAAC,EAAE9C,MAAM;QACT+C,CAAC,EAAE1D,QAAQ;QACX2D,CAAC,EAAE1D,QAAQ;QACX2D,CAAC,EAAEzD,gBAAgB;QACnB0D,CAAC,EAAEzD,aAAa;QAChB0D,CAAC,EAAEzD,OAAO;QACV0D,CAAC,EAAEzD,MAAM;QACT0D,CAAC,EAAEzD,MAAM;QACT0D,CAAC,EAAEzD,OAAO;QACV0D,CAAC,EAAEzD,OAAO;QACV0D,CAAC,EAAEzD,MAAM;QACT0D,CAAC,EAAElE,MAAM;QACTmE,CAAC,EAAE1D,MAAM;QACT2D,CAAC,EAAEtE,QAAQ;QACXuE,CAAC,EAAEtE,QAAQ;QACXuE,CAAC,EAAErE;MACL,CAAC;MACD,MAAMsE,eAAc,GAAI5B,MAAM,CAAC6B,WAAW,CAAC,CAAC;MAC5C,IAAID,eAAc,IAAK3B,aAAa,EAAE;QACpC,OAAOA,aAAa,CAAC2B,eAAe,CAAC;MACvC;MACA,OAAO,EAAE,EAAE;IACb;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}