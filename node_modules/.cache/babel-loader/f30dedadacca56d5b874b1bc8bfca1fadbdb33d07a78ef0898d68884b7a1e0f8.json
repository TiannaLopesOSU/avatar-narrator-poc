{"ast":null,"code":"export default {\n  data() {\n    return {\n      text: \"\",\n      words: [],\n      currentIndex: -1,\n      phonemes: [{\n        id: 1,\n        url: \"../assets/AEI.png\"\n      }]\n    };\n  },\n  methods: {\n    // startReading() {\n    //   let speech = new SpeechSynthesisUtterance();\n    //   speech.lang = \"en-US\";\n    //   speech.text = this.text;\n    //   speech.volume = 1;\n    //   speech.rate = 0.9;\n    //   speech.pitch = 1;\n    //   window.speechSynthesis.speak(speech);\n    // },\n    speak() {\n      this.currentIndex = -1;\n      this.words = this.text.split(\" \");\n      this.readNextWord();\n    },\n    readNextWord() {\n      if (this.currentIndex < this.words.length - 1) {\n        this.currentIndex++;\n        const utterance = new SpeechSynthesisUtterance(this.words[this.currentIndex]);\n        utterance.lang = \"en-US\";\n        utterance.text = this.text;\n        utterance.volume = 1;\n        utterance.rate = 0.9;\n        utterance.pitch = 1;\n        // utterance.addEventListener(\"end\", this.readNextWord);\n        speechSynthesis.speak(utterance);\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","text","words","currentIndex","phonemes","id","url","methods","speak","split","readNextWord","length","utterance","SpeechSynthesisUtterance","lang","volume","rate","pitch","speechSynthesis"],"sources":["/Users/lopesti/WebTeam/avatar-narrator-poc/src/components/NarratingAvatar.vue"],"sourcesContent":["<template>\n  <div class=\"w-100 h-100 mt-5\">\n    <!-- <textarea class=\"w-75 m-3 p-3\" v-model=\"text\"></textarea> -->\n    <!-- <button class=\"btn btn-primary\" @click=\"startReading\">Read Text</button> -->\n\n    <input v-model=\"text\" type=\"text\" placeholder=\"Enter Text\" />\n    <button @click=\"speak\">Read Aloud</button>\n    <div ref=\"hightlightContainer\">\n      <span\n        v-for=\"(word, index) in words\"\n        :key=\"index\"\n        :class=\"{ highlighted: currentIndex === index }\"\n      >\n        {{ word }} <span> </span>\n      </span>\n    </div>\n    <div class=\"phoneme-container\">\n      <image\n        v-for=\"(phoneme, index) in phonemes\"\n        :key=\"index\"\n        :src=\"phoneme.url\"\n        alt=\"Phoneme\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      text: \"\",\n      words: [],\n      currentIndex: -1,\n      phonemes: [\n        {\n          id: 1,\n          url: \"../assets/AEI.png\",\n        },\n      ],\n    };\n  },\n  methods: {\n    // startReading() {\n    //   let speech = new SpeechSynthesisUtterance();\n    //   speech.lang = \"en-US\";\n    //   speech.text = this.text;\n    //   speech.volume = 1;\n    //   speech.rate = 0.9;\n    //   speech.pitch = 1;\n    //   window.speechSynthesis.speak(speech);\n    // },\n    speak() {\n      this.currentIndex = -1;\n      this.words = this.text.split(\" \");\n      this.readNextWord();\n    },\n    readNextWord() {\n      if (this.currentIndex < this.words.length - 1) {\n        this.currentIndex++;\n        const utterance = new SpeechSynthesisUtterance(\n          this.words[this.currentIndex]\n        );\n        utterance.lang = \"en-US\";\n        utterance.text = this.text;\n        utterance.volume = 1;\n        utterance.rate = 0.9;\n        utterance.pitch = 1;\n        // utterance.addEventListener(\"end\", this.readNextWord);\n        speechSynthesis.speak(utterance);\n      }\n    },\n  },\n};\n</script>\n\n<style scoped>\n.highlighted {\n  background-color: yellow;\n}\n</style>\n"],"mappings":"AA4BA,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAE,EAAE;MACTC,YAAY,EAAE,CAAC,CAAC;MAChBC,QAAQ,EAAE,CACR;QACEC,EAAE,EAAE,CAAC;QACLC,GAAG,EAAE;MACP,CAAC;IAEL,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACP;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC,KAAKA,CAAA,EAAG;MACN,IAAI,CAACL,YAAW,GAAI,CAAC,CAAC;MACtB,IAAI,CAACD,KAAI,GAAI,IAAI,CAACD,IAAI,CAACQ,KAAK,CAAC,GAAG,CAAC;MACjC,IAAI,CAACC,YAAY,CAAC,CAAC;IACrB,CAAC;IACDA,YAAYA,CAAA,EAAG;MACb,IAAI,IAAI,CAACP,YAAW,GAAI,IAAI,CAACD,KAAK,CAACS,MAAK,GAAI,CAAC,EAAE;QAC7C,IAAI,CAACR,YAAY,EAAE;QACnB,MAAMS,SAAQ,GAAI,IAAIC,wBAAwB,CAC5C,IAAI,CAACX,KAAK,CAAC,IAAI,CAACC,YAAY,CAC9B,CAAC;QACDS,SAAS,CAACE,IAAG,GAAI,OAAO;QACxBF,SAAS,CAACX,IAAG,GAAI,IAAI,CAACA,IAAI;QAC1BW,SAAS,CAACG,MAAK,GAAI,CAAC;QACpBH,SAAS,CAACI,IAAG,GAAI,GAAG;QACpBJ,SAAS,CAACK,KAAI,GAAI,CAAC;QACnB;QACAC,eAAe,CAACV,KAAK,CAACI,SAAS,CAAC;MAClC;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}