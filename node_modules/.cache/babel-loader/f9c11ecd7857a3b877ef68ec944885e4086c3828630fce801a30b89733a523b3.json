{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport imageAEI from \"../assets/AEI.png\";\nimport imageBMP from \"../assets/BMP.png\";\nimport imageN from \"../assets/Nn.png\";\nimport imageCDGKNRSTXYZ from \"../assets/CDGKNRSTXYZ.png\";\nimport imageCHJSONSH from \"../assets/CH,J,SH.png\";\nimport imageFV from \"../assets/FV.png\";\nimport imageL from \"../assets/L.png\";\nimport imageO from \"../assets/O.png\";\nimport imageQW from \"../assets/QW.png\";\nimport imageTH from \"../assets/TH.png\";\nimport imageU from \"../assets/U.png\";\nimport imageE from \"../assets/E.png\";\nexport default {\n  data() {\n    return {\n      text: \"\",\n      currentIndex: -1,\n      letterIndex: -1,\n      phonemes: [{\n        id: 1,\n        url: imageAEI,\n        letters: [\"a\", \"e\", \"i\"],\n        show: false\n      }, {\n        id: 2,\n        url: imageBMP,\n        letters: [\"b\", \"m\", \"p\"],\n        show: false\n      }, {\n        id: 3,\n        url: imageCDGKNRSTXYZ,\n        letters: [\"c\", \"d\", \"g\", \"k\", \"n\", \"r\", \"s\", \"t\", \"z\"],\n        show: false\n      }, {\n        id: 4,\n        url: imageCHJSONSH,\n        letters: [\"ch\", \"j\", \"sh\"],\n        show: false\n      }, {\n        id: 5,\n        url: imageFV,\n        letters: [\"f\", \"v\"],\n        show: false\n      }, {\n        id: 6,\n        url: imageL,\n        letters: [\"l\"],\n        show: false\n      }, {\n        id: 7,\n        url: imageO,\n        letters: [\"o\"],\n        show: false\n      }, {\n        id: 8,\n        url: imageQW,\n        letters: [\"q\", \"w\"],\n        show: false\n      }, {\n        id: 9,\n        url: imageTH,\n        letters: [\"t\", \"h\"],\n        show: false\n      }, {\n        id: 10,\n        url: imageU,\n        letters: [\"u\"],\n        show: false\n      }, {\n        id: 11,\n        url: imageN,\n        letters: [\"n\"],\n        show: false\n      }, {\n        id: 12,\n        url: imageE,\n        letters: [\"e\"],\n        show: false\n      }]\n    };\n  },\n  computed: {\n    words() {\n      return this.text.split(\" \");\n    },\n    phonmesForCurrentLetter() {\n      const phonemes = [];\n      if (this.words && this.words.length > 1) {\n        const currentWord = this.words[this.currentIndex];\n        if (this.currentWord && this.currentWord.length > 1 && this.letterIndex > 0) {\n          const currentLetter = currentWord[this.letterIndex].toLowerCase();\n          for (const phoneme of this.phonemes) {\n            if (phoneme.letters.includes(currentLetter)) {\n              phonemes.push(phoneme);\n            }\n          }\n        }\n      }\n      return phonemes;\n    }\n  },\n  methods: {\n    speak() {\n      this.currentIndex = -1;\n      this.letterIndex = 0;\n      this.words = this.text.split(\" \");\n      this.speakLetter();\n    },\n    speakLetter() {\n      if (this.currentIndex < this.words.length - 1) {\n        const currentWord = this.words[this.currentIndex];\n        this.letterIndex++;\n        console.log(this.words);\n        console.log(this.currentWord);\n        if (this.letterIndex >= currentWord.length) {\n          this.currentIndex++;\n          this.letterIndex = 0;\n          this.speakLetter();\n          return;\n        }\n        const currentLetter = currentWord[this.letterIndex].toLowerCase();\n        const utterance = new SpeechSynthesisUtterance(currentLetter);\n        utterance.addEventListener(\"end\", () => {\n          this.highlightNextLetter(currentWord);\n        });\n        speechSynthesis.speak(utterance);\n      }\n    },\n    highlightNextLetter() {\n      this.speakLetter();\n    }\n  }\n};","map":{"version":3,"names":["imageAEI","imageBMP","imageN","imageCDGKNRSTXYZ","imageCHJSONSH","imageFV","imageL","imageO","imageQW","imageTH","imageU","imageE","data","text","currentIndex","letterIndex","phonemes","id","url","letters","show","computed","words","split","phonmesForCurrentLetter","length","currentWord","currentLetter","toLowerCase","phoneme","includes","push","methods","speak","speakLetter","console","log","utterance","SpeechSynthesisUtterance","addEventListener","highlightNextLetter","speechSynthesis"],"sources":["/Users/lopesti/WebTeam/avatar-narrator-poc/src/components/NarratingAvatar.vue"],"sourcesContent":["<template>\n  <div class=\"w-100 h-100 mt-5\">\n    <!-- <textarea class=\"w-75 m-3 p-3\" v-model=\"text\"></textarea> -->\n    <!-- <button class=\"btn btn-primary\" @click=\"startReading\">Read Text</button> -->\n\n    <input v-model=\"text\" type=\"text\" placeholder=\"Enter Text\" />\n    <button @click=\"speak\">Read Aloud</button>\n    <div ref=\"hightlightContainer\">\n      <span\n        v-for=\"(word, index) in words\"\n        :key=\"index\"\n        :class=\"{ highlighted: currentIndex === index }\"\n      >\n        {{ word }} <span> </span>\n      </span>\n    </div>\n    <div class=\"phoneme-container\">\n      <img\n        v-for=\"phoneme in phonmesForCurrentLetter\"\n        :key=\"phoneme.id\"\n        :src=\"phoneme.url\"\n        v-show=\"phoneme.show\"\n        alt=\"Phoneme\"\n      />\n    </div>\n  </div>\n</template>\n\n<script>\nimport imageAEI from \"../assets/AEI.png\";\nimport imageBMP from \"../assets/BMP.png\";\nimport imageN from \"../assets/Nn.png\";\nimport imageCDGKNRSTXYZ from \"../assets/CDGKNRSTXYZ.png\";\nimport imageCHJSONSH from \"../assets/CH,J,SH.png\";\nimport imageFV from \"../assets/FV.png\";\nimport imageL from \"../assets/L.png\";\nimport imageO from \"../assets/O.png\";\nimport imageQW from \"../assets/QW.png\";\nimport imageTH from \"../assets/TH.png\";\nimport imageU from \"../assets/U.png\";\nimport imageE from \"../assets/E.png\";\n\nexport default {\n  data() {\n    return {\n      text: \"\",\n      currentIndex: -1,\n      letterIndex: -1,\n      phonemes: [\n        {\n          id: 1,\n          url: imageAEI,\n          letters: [\"a\", \"e\", \"i\"],\n          show: false,\n        },\n        {\n          id: 2,\n          url: imageBMP,\n          letters: [\"b\", \"m\", \"p\"],\n          show: false,\n        },\n        {\n          id: 3,\n          url: imageCDGKNRSTXYZ,\n          letters: [\"c\", \"d\", \"g\", \"k\", \"n\", \"r\", \"s\", \"t\", \"z\"],\n          show: false,\n        },\n        {\n          id: 4,\n          url: imageCHJSONSH,\n          letters: [\"ch\", \"j\", \"sh\"],\n          show: false,\n        },\n        {\n          id: 5,\n          url: imageFV,\n          letters: [\"f\", \"v\"],\n          show: false,\n        },\n        {\n          id: 6,\n          url: imageL,\n          letters: [\"l\"],\n          show: false,\n        },\n        {\n          id: 7,\n          url: imageO,\n          letters: [\"o\"],\n          show: false,\n        },\n        {\n          id: 8,\n          url: imageQW,\n          letters: [\"q\", \"w\"],\n          show: false,\n        },\n        {\n          id: 9,\n          url: imageTH,\n          letters: [\"t\", \"h\"],\n          show: false,\n        },\n        {\n          id: 10,\n          url: imageU,\n          letters: [\"u\"],\n          show: false,\n        },\n        {\n          id: 11,\n          url: imageN,\n          letters: [\"n\"],\n          show: false,\n        },\n        {\n          id: 12,\n          url: imageE,\n          letters: [\"e\"],\n          show: false,\n        },\n      ],\n    };\n  },\n  computed: {\n    words() {\n      return this.text.split(\" \");\n    },\n    phonmesForCurrentLetter() {\n      const phonemes = [];\n      if (this.words && this.words.length > 1) {\n        const currentWord = this.words[this.currentIndex];\n        if (\n          this.currentWord &&\n          this.currentWord.length > 1 &&\n          this.letterIndex > 0\n        ) {\n          const currentLetter = currentWord[this.letterIndex].toLowerCase();\n          for (const phoneme of this.phonemes) {\n            if (phoneme.letters.includes(currentLetter)) {\n              phonemes.push(phoneme);\n            }\n          }\n        }\n      }\n      return phonemes;\n    },\n  },\n  methods: {\n    speak() {\n      this.currentIndex = -1;\n      this.letterIndex = 0;\n      this.words = this.text.split(\" \");\n      this.speakLetter();\n    },\n    speakLetter() {\n      if (this.currentIndex < this.words.length - 1) {\n        const currentWord = this.words[this.currentIndex];\n        this.letterIndex++;\n        console.log(this.words);\n        console.log(this.currentWord);\n\n        if (this.letterIndex >= currentWord.length) {\n          this.currentIndex++;\n          this.letterIndex = 0;\n          this.speakLetter();\n          return;\n        }\n\n        const currentLetter = currentWord[this.letterIndex].toLowerCase();\n        const utterance = new SpeechSynthesisUtterance(currentLetter);\n        utterance.addEventListener(\"end\", () => {\n          this.highlightNextLetter(currentWord);\n        });\n        speechSynthesis.speak(utterance);\n      }\n    },\n    highlightNextLetter() {\n      this.speakLetter();\n    },\n  },\n};\n</script>\n\n<style scoped>\n.highlighted {\n  background-color: yellow;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}